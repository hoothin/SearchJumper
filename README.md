# [SearchJumper - æœç´¢é†¬](https://greasyfork.org/scripts/445274-searchjumper "Install from greasyfork")  [ğŸ‘†Seek more sites æ›´å¤šç«™é»é…ç½®](https://github.com/hoothin/SearchJumper/issues?q=label%3A%22Sites+Rule%22)

![star](https://img.shields.io/github/stars/hoothin/SearchJumper)
![react-version](https://img.shields.io/badge/React.js-lastest-green.svg)
![materialUI-version](https://img.shields.io/badge/MaterialUI-lastest-blue.svg)
![license](https://img.shields.io/badge/License-GPL3.0-red.svg)
![FontAwesome](https://img.shields.io/badge/FontAwesome-6.0-yellow.svg)
![support](https://img.shields.io/badge/Support-Chrome|Firefox|Edge-989898.svg)
> *A user script to assist in switching search engines*

[![i](https://socialify.git.ci/hoothin/searchjumper/image?description=1&font=Inter&forks=1&issues=1&language=1&owner=1&pattern=Circuit%20Board&stargazers=1&theme=Dark)](https://greasyfork.org/scripts/445274-searchjumper)


+ Build with React.js
+ UI: [Material-UI](https://mui.com/)
+ Icons: [FontAwesome](https://fontawesome.com/)

<img src='demo1.gif' height='210px'><img src='demo3.gif' height='210px'><img src='demo2.gif' height='210px'>
![config](config.jpg)

## Featuresï¼š
+ Search for pictures, links, videos, audios, pages, etc. (**long press the right mouse** on the corresponding object)
  > å¯ä»¥æœç´¢åœ–ç‰‡ã€é€£çµã€è¦–é »ã€éŸ³é »ã€é é¢ç­‰ï¼ˆåœ¨ç›¸æ‡‰å°è±¡ä¸Š**é•·æŒ‰å³éµ**ï¼‰
+ Support word search on any page (need to **long press the right mouse**, you can also change to swipe to call out immediately in the settings)
  > æ”¯æŒä»»æ„é é¢åŠƒè©æœç´¢ï¼ˆéœ€è¦**é•·æŒ‰å³éµ**ï¼Œäº¦å¯åœ¨è¨­ç½®ä¸­æ”¹ç‚ºåŠƒé¸ç«‹å³èª¿å‡ºï¼‰
+ Support search by site
  > æ”¯æŒç«™å…§æœç´¢
+ Shortcut keys (single key or key combination) to start search (such as alt+g Google search, which can be customized at will)
  > å¯éš¨æ„ä½¿ç”¨å¿«æ·éµï¼ˆå–®å€‹æŒ‰éµæˆ–è€…çµ„åˆæŒ‰éµï¼‰é–‹å•Ÿæœç´¢ï¼ˆæ¯”å¦‚ alt+g è°·æ­Œæœç´¢ï¼Œå¯éš¨æ„è‡ªå®šç¾©ï¼‰
+ Right-click the category icon to open the sites in batches
  > æ»‘é¼ å³éµå–®æ“Šé¡åˆ¥åœ–æ¨™æ‰¹é‡æ‰“é–‹åŒä¸€é¡åˆ¥
+ Hold **`shift`** + left click on category icon to open batches in new window
  > æŒ‰ä½ **`shift`** å·¦éµå–®æ“Šé¡åˆ¥åœ–æ¨™åœ¨æ–°çª—å£æ‰¹é‡æ‰“é–‹
+ Hold **`alt`** + left click on category icon to open batches embedding
  > æŒ‰ä½ **`alt`** å·¦éµå–®æ“Šé¡åˆ¥åœ–æ¨™æ‰¹é‡åµŒå…¥æ‰“é–‹
+ Hold **`alt + shift`** + left-click a category icon to batch open multiple separate windows
  > æŒ‰ä½ **`alt + shift`** å·¦éµå–®æ“Šé¡åˆ¥åœ–æ¨™ä»¥å¤šå€‹å–®ç¨çª—å£æ‰¹é‡æ‰“é–‹
+ **`shift`** + left click on site icon to open in new window
  > æŒ‰ä½ **`shift`** å·¦éµå–®æ“Šç«™é»ä»¥æ–°çª—å£æ‰“é–‹çµæœé 
+ **`ctrl`** + (left click/shortcut/drag) on site icon to open in background TAB
  > æŒ‰ä½ **`ctrl`** (å·¦éµå–®æ“Š/å¿«æ·éµ/æ‹–æ‹½)ç«™é»ä»¥å¾Œè‡ºæ¨™ç±¤é æ‰“é–‹çµæœé 
+ **`alt`** + (left click/shortcut/drag) on site icon to preview in small window
  > æŒ‰ä½ **`alt`** (å·¦éµå–®æ“Š/å¿«æ·éµ/æ‹–æ‹½)ç«™é»ä»¥å°çª—å£é è¦½çµæœ
+ **`Ctrl + Alt`** + (left click/shortcut/drag) single site/press shortcut key to open in incognito window.
  > æŒ‰ä½ **`ctrl + alt`** (å·¦éµå–®æ“Š/å¿«æ·éµ/æ‹–æ‹½)ç«™é»ä»¥éš±èº«çª—å£æ‰“é–‹
+ Call search bar for input words to filter sites by shortcut key when select no words, press enter to search quickly, `ctrl` + enter to search without lock.
  > æ²’æœ‰é¸æ“‡æ–‡å­—æˆ–è€…åœ–ç‰‡æ™‚é€šéå–šå‡ºå¿«æ·éµå¯å–šå‡ºç«™é»æœç´¢æ¡†ï¼Œæœç´¢ç«™é»åæŒ‰ä¸‹å›è»Šå¯é–å®šç«™é»ä¸¦è¼¸å…¥æœç´¢è©ï¼Œå†æ¬¡å›è»Šä½¿ç”¨ç¬¬ä¸€å€‹çµæœæœç´¢ï¼Œctrl+å›è»Šç„¡éœ€é–å®šå³å¯å¿«æ·æ‰“é–‹ï¼Œé©ç”¨æ–¼éœæ…‹æ›¸ç°½ã€‚
+ Can set the category to be displayed only on the specified site through the regular rule
  > å¯ä»¥é€šéæ­£å‰‡è¨­ç½®é¡åˆ¥åƒ…åœ¨æŒ‡å®šç«™é»é¡¯ç¤º
+ Right click on cute face to hide the toolbar
  > å³éµé»æ“Š å°èŒè‡‰ å¾¹åº•éš±è—å·¥å…·æ¬„
+ Left click on cute face to open the configuration page
  > å·¦éµé»æ“Š å°èŒè‡‰ æ‰“é–‹é…ç½®é 
+ Support open with shortcut key, right click on the logo to close
  > å¯éš¨æ„æ‹–æ‹½ å°èŒè‡‰ï¼Œä¸¦éš¨æ„é¸æ“‡ä½ç½®æ”¾ç½®ï¼Œä¾‹å¦‚ä¸Šä¸­ï¼Œä¸‹ä¸­ï¼Œå·¦ä¸Šï¼Œå³ä¸Šï¼Œä¸Šå·¦ï¼Œä¸Šå³ç­‰
+ Support configuration export and quick sharing
  > æ”¯æŒé…ç½®å°å‡ºèˆ‡å¿«æ·åˆ†äº«
+ Support middle button to open links in the background
  > æ”¯æŒä¸­éµå¾Œå°æ‰“é–‹é€£çµ
+ Support custom css
  > æ”¯æŒè‡ªå®šç¾©æ¨£å¼
+ Support full character encoding
  > æ”¯æŒå…¨å­—ç¬¦ç·¨ç¢¼
+ Support Post, in-page post and non-jump post
  > æ”¯æŒ Postã€é å…§ post ä»¥åŠç„¡è·³è½‰ post
+ Comprehensive customization
  > å…¨é¢çš„è‡ªå®šç¾©åŠŸèƒ½ï¼Œè©³è¦‹æœ€ä¸‹æ–¹ã€æœç´¢åƒæ•¸ã€‘
+ No 3rd party dependencies
  > ç„¡ç¬¬ä¸‰æ–¹ä¾è³´åº«
+ Self-expand current category
  > è‡ªå±•é–‹ç•¶å‰é¡åˆ¥ä¸¦æå‰
+ No tamper with the original page
  > ä¸ç¯¡æ”¹åŸå§‹é é¢
+ Drag to search with current category
  > æ‹–æ‹½æœç´¢ç•¶å‰åˆ†é¡ï¼ˆæ–‡å­—/åœ–ç‰‡/éˆæ¥ï¼‰ï¼Œå†…åœˆç‚ºç•¶å‰åˆ†é¡å‰6å€‹ç«™é»ï¼Œå¤–åœˆç‚ºæœ€è¿‘ä½¿ç”¨çš„10å€‹ç«™é»ï¼Œå¯é€éç·¨è¼¯ç¬¬ä¸€å€‹ï¼ˆæ–‡å­—/åœ–ç‰‡/éˆæ¥ï¼‰åˆ†é¡ä¾†è‡ªå®šç¾©å†…å®¹

## Search params
| param | details | è©³è¿° |
| --- | --- | --- |
| `%s` | search keyword |ğŸ—’ï¸ æœç´¢é—œéµè© |
| `%S` | cached search keyword |ğŸ—’ï¸ æœ€è¿‘ä¸€æ¬¡çš„æœç´¢é—œéµè© |
| `%sl` | search keyword with lower case letters |ğŸ—’ï¸ å°å¯«å­—æ¯æœç´¢è© |
| `%su` | search keyword with upper case letters |ğŸ—’ï¸ å¤§å¯«å­—æ¯æœç´¢è© |
| `%sr` | search keyword without doing any encoding |ğŸ—’ï¸ æœªè½‰ç¢¼çš„æœç´¢é—œéµè© |
| `%e` | charset | ğŸ—’ï¸ ç·¨ç¢¼ |
| `%c` | client pc,mobile | ğŸ—’ï¸ å®¢æˆ¶ç«¯ pc,mobile |
| `%u` | current website url | ğŸ—’ï¸ ç•¶å‰ç¶²ç«™ url |
| `%U` | url with encodeURIComponent | ğŸ—’ï¸ ç•¶å‰ç¶²ç«™ url çš„ URI ç·¨ç¢¼ |
| `%h` | current website host | ğŸ—’ï¸ ç•¶å‰ç¶²ç«™ host |
| `%t` | target src | ğŸ—’ï¸ æŒ‡å‘å°è±¡çš„ src |
| `%T` | %t with encodeURIComponent | ğŸ—’ï¸ æŒ‡å‘å°è±¡çš„ src çš„ URI ç·¨ç¢¼ |
| `%b` | target src without http | ğŸ—’ï¸ æŒ‡å‘å°è±¡ src å»é ­ |
| `%B` | %b with encodeURIComponent | ğŸ—’ï¸ æŒ‡å‘å°è±¡ src å»é ­ çš„ URI ç·¨ç¢¼ |
| `%i` | base64 of target image | ğŸ—’ï¸ æŒ‡å‘åœ–ç‰‡çš„ base64 |
| `%s.replace` | replace keywords with regexp, like %sr.replace(/[^\d]/g, "").replace(/(\d)/g, "$1 ") means replace raw keywords to numbers and then join all numbers with space, support %s %sl %sr %su %t %u |ğŸ—’ï¸ ç”¨æ­£å‰‡æ›¿æ›æœç´¢é—œéµè©ï¼Œä¾‹å¦‚ %sr.replace(/[^\d]/g, "").replace(/(\d)/g, "$1 ") ä»£è¡¨æå–åŸå§‹é—œéµè©ä¸­æ‰€æœ‰æ•¸å­—ï¼Œä¸¦ä»¥ç©ºæ ¼åˆ†éš”ï¼Œæ”¯æŒ  %s %sl %sr %su %t %u |
| `%p{params}` | post body, like %p{x=1&y=%s} | ğŸ—’ï¸ post åƒæ•¸é«”ï¼Œä¾‹å¦‚ %p{x=1&y=%s} |
| `%P{params}` | post without navigation | ğŸ—’ï¸ post ä½†ä¸è·³è½‰ |
| `%input{tips}` | input something, like %input{love who?,you} | ğŸ—’ï¸ è¼¸å…¥å ä½ï¼Œä¾‹å¦‚%input{è«‹è¼¸å…¥æ‚¨çš„ä¸‰åœ,90 55 90} |
| `#p{params}` | post in page, like #p{#input=%u&div.param=2&sleep=500&c=click()}, use \\& \\= instead of & = in content | ğŸ—’ï¸ é å†… postï¼Œå¯åœ¨é é¢ä¹‹å†…ä½¿ç”¨ã€cssé¸æ“‡å™¨ã€‘å¡«å¯«åƒæ•¸æäº¤æŸ¥è©¢ï¼Œé©ç”¨æ–¼ä¸é–‹æ”¾GET/POSTæ¥å£çš„ç¶²ç«™ï¼Œä¾‹å¦‚ #p{#input=%u&div.param=2&sleep=500&c=click()}, å¯åœ¨å†…å®¹ä¸­ä½¿ç”¨ \\& \\= ä¾† è¡¨ç¤º & = |
| `["siteName1","siteName2"]` | batch open by site name you've created | ğŸ—’ï¸ é€éä½ å·²ç¶“å‰µå»ºçš„ç«™é»åæ‰¹é‡æ‰“é–‹ï¼Œä¾‹å¦‚ \["é›…è™æœç´¢","è°·æ­Œæœç´¢"\] |
| `%element{}` | query element for innerText from selector or xpath, like %element{.mainTitle} | ğŸ—’ï¸ é€é css é¸æ“‡å™¨æˆ– xpath æŠ“å–å…ƒç´ ä¸¦è¿”å›æ–‡å­—å†…å®¹ï¼Œä¾‹å¦‚ %element{.mainTitle} |
| `%element{}.prop()` | return prop value for queried element, like %element{.mainTitle}.prop(href) %element{.mainTitle}.prop(innerHTML) | ğŸ—’ï¸ ç²å–æŠ“å–åˆ°å…ƒç´ çš„å±¬æ€§å€¼ï¼Œä¾‹å¦‚ %element{.mainTitle}.prop(href) %element{.mainTitle}.prop(innerHTML) |
| `%element{}.replace()` | replace, same as above, like %element{.mainTitle}.prop(href).replace(/https/i,"") | ğŸ—’ï¸ æ­£å‰‡æ›¿æ›ï¼Œä¾‹å¦‚ %element{.mainTitle}.prop(href).replace(/https/i,"") |
| `c:` | put this at first then all words after will be copied to the clipboard | ğŸ—’ï¸ åœ¨é–‹é ­ä½¿ç”¨"c:"å¯ä»¥è¤‡è£½ä¹‹å¾Œçš„æ‰€æœ‰å­—ä¸² |

 <details>
<summary><h2>Add search engines quickly å¿«é€Ÿæ·»åŠ æœç´¢å¼•æ“</h></summary>

+ Add with shortcut key on current page é€šéå¿«æ·éµå¿«é€Ÿåœ¨ç•¶å‰é é¢æ·»åŠ 
> click search input box with `ctrl + alt` æŒ‰ä½ `ctrl + alt` é»æ“Šç•¶å‰é é¢ä¸­çš„æœç´¢è¼¸å…¥æ¡†å³å¯

+ Search on mycroftproject.com and add  åœ¨ mycroftproject ä¸Šæœç´¢åˆ¥äººç·¨è¼¯å¥½çš„ç«™é»ä¸¦é»æ“Šå°å…¥
> Click the searchJumper face icon in sites list on mycroftproject é»æ“Š mycroftproject ä¸Šç«™é»åˆ—è¡¨è£çš„æœç´¢é†¬åœ–æ¨™å³å¯

 </details>

---
 <details>
<summary><h2>Filter sites to search ç«™é»ç¯©é¸ä¸¦æœç´¢</h></summary>

+ Call by global shortcut key, Input keywords of site name to filter sites, support glob with "?/\*" é€šéå…¨å±€å¿«æ·éµå–šå‡ºï¼Œè¼¸å…¥ç«™é»åç¨±çš„é—œéµè©ä¾†ç¯©é¸ï¼Œæ”¯æŒ â€œ?/\*â€ é€šé…ç¬¦
+ Enter to lock filter and input words to search by click icon or another press of enter å›è»Šé–å®šç¯©é¸ï¼Œè¼¸å…¥æ–‡å­—å¹¶ä¸”é»æ“Šç«™é»åœ–æ¨™æˆ–è€…å†æ¬¡å›è»Šä¾†é€²è¡Œæœç´¢

![i](filter.jpg)
 </details>

---
 <details>
<summary><h2>Call by event é€éé¼ æ¨™æ‰‹å‹¢èª¿ç”¨</h></summary>

+ Search by site name ä»¥ç«™é»åèª¿ç”¨æœç´¢
``` javascript
// search by google
const siteName = 'Google search';
const searchJumperEvent = new CustomEvent('searchJumper', {
  detail: {
    action: 'search',
    name: siteName
  }
});
document.dispatchEvent(searchJumperEvent);
```
+ Show search bar é¡¯ç¤ºæœç´¢æ¢
``` javascript
const searchJumperEvent = new CustomEvent('searchJumper', {
  detail: {
    action: 'show'
  }
});
document.dispatchEvent(searchJumperEvent);
```
+ Search by second shown site button and open in new window ä½¿ç”¨ç•¶å‰å±•é–‹çš„ç¬¬äºŒå€‹ç«™é»æœç´¢ä¸¦åœ¨å°çª—æ‰“é–‹çµæœ
``` javascript
const siteOrder = 2;
let currentSite = document.querySelector(`.search-jumper-type:not(.search-jumper-hide)>a:nth-of-type(${siteOrder})`);
if (currentSite) {
  const searchJumperEvent = new CustomEvent('searchJumper', {
    detail: {
      action: 'search',
      name: currentSite.dataset.name,
      key: {altKey:true}
    }
  });
  document.dispatchEvent(searchJumperEvent);
}
```
+ Search by site of current type in background tab ä½¿ç”¨ç•¶å‰é¸ä¸­é¡åˆ¥çš„ç«™é»æœç´¢ä¸¦åœ¨å¾Œè‡ºæ¨™ç±¤é æ‰“é–‹çµæœ
``` javascript
const searchJumperEvent = new CustomEvent('searchJumper', {
  detail: {
    action: 'search',
    key: {ctrlKey:true}
  }
});
document.dispatchEvent(searchJumperEvent);
```
+ Search by second site of current type in incognito tab ä½¿ç”¨ç•¶å‰é¸ä¸­é¡åˆ¥çš„ç¬¬äºŒå€‹ç«™é»æœç´¢ä¸¦åœ¨éš±èº«æ¨™ç±¤é æ‰“é–‹çµæœ
``` javascript
const siteOrder = 2;
const searchJumperEvent = new CustomEvent('searchJumper', {
  detail: {
    action: 'search',
    index: siteOrder,
    key: {ctrlKey:true, altKey:true}
  }
});
document.dispatchEvent(searchJumperEvent);
```
 </details>

---
 <details>
<summary><h2>Download all video with lux ä½¿ç”¨ LUX ä¸‹è¼‰å…¨ç¶²è¦–é »</h></summary>
Registry patch to call lux by SearchJumper æœç´¢é†¬èª¿ç”¨æœ¬åœ°ç¨‹å¼çš„æ³¨å†Šè¡¨è£œä¸

``` ini
Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\lux]
@="URL:lux Protocol"
"URL Protocol"=""

[HKEY_CLASSES_ROOT\lux\DefaultIcon]
@="cmd.exe,1"

[HKEY_CLASSES_ROOT\lux\shell]

[HKEY_CLASSES_ROOT\lux\shell\open]

[HKEY_CLASSES_ROOT\lux\shell\open\command]
@="cmd /c set m=%1 & call set m=%%m:lux://=%% & d: & cd \"D:\\Program Files\\lux\" & call lux.exe %%m%% & pause"
```
Modify path by yourself è‡ªè¡Œä¿®æ”¹è£œä¸ä¸­çš„ç›®éŒ„ï¼Œä¿å­˜çˆ² lux.regï¼Œé›™æ“Šå°å…¥æ³¨å†Šè¡¨ã€‚

Open the page of video and download with `lux://%u` å®Œç•¢ä¹‹å¾Œå³å¯æ–°å»ºç«™é»ä½¿ç”¨ `lux://%u` èª¿ç”¨ lux ä¸‹è¼‰ç•¶å‰ç¶²é è¦–é »
 </details>

---
 <details>
<summary><h2>Batch open types å¤šç¨®æ‰¹é‡æ‰“é–‹æ–¹å¼</h></summary>
  
+ **`shift`** + click category icon
![i](batchOpen1.jpg)
  
+ **`Alt`** + click category icon
![i](batchOpen2.jpg)
  
+ **`alt + shift`** + click category icon
![i](batchOpen3.jpg)

 </details>
